@model ComicBookReader.Models.Chapter
@{
    ViewData["Title"] = "Список страниц";
}

<!DOCTYPE html>

<html>
    <head>
        <title>ComicBookReader</title>
        <style>
            .img-page {
                width: 500px;
                display: block;
                margin-right: auto;
                margin-left: auto;
            }

            * {
              box-sizing: border-box;
            }

            /* Расположите контейнер изображения (необходимо расположить стрелки влево и вправо) */
            .containerr {
              position: relative;
              display: block;
              margin-left: 150px;
              margin-right: 150px;
            }

            /* Скрыть изображения по умолчанию */
            .mySlides {
              display: none;
            }

            /* Добавить указатель при наведении на миниатюры изображений */
            .cursor {
              cursor: pointer;
            }

            /* Вперед и предыдущие кнопки */
            .prev,
            .next {
              cursor: pointer;
              position: absolute;
              top: 40%;
              width: auto;
              padding: 16px;
              margin-top: -50px;
              color: #000;
              font-weight: bold;
              font-size: 20px;
              border-radius: 0 3px 3px 0;
              user-select: none;
              -webkit-user-select: none;
            }

            /* Позиция "next кнопка" на право */
            .next {
              right: 0;
              border-radius: 3px 0 0 3px;
            }

            /* При наведении курсора добавьте черный цвет фона с небольшим количеством прозрачного */
            .prev:hover,
            .next:hover {
              background-color: rgba(0, 0, 0, 0.8);
            }

            /* Номера текст (1/3 и т.д.) */
            .numbertext {
              text-align: center;
              color: #000;
              margin-top: 20px;
            }


            .slider {
              margin-top: 20px;
              -webkit-appearance: none;
              width: 100%;
              height: 15px;
              border-radius: 5px;  
              background: #fff;
              outline: none;
              opacity: 0.7;
              -webkit-transition: .2s;
              transition: opacity .2s;
            }

            .slider::-webkit-slider-thumb {
              -webkit-appearance: none;
              appearance: none;
              width: 25px;
              height: 25px;
              border-radius: 50%; 
              background: #e8e2a2;
              cursor: pointer;
            }

            .slider::-moz-range-thumb {
              width: 25px;
              height: 25px;
              border-radius: 50%;
              background: #e8e2a2;
              cursor: pointer;
            }
        </style>
    </head>
    <body>
        
        <!-- Контейнер для галереи изображений -->
        <div class="containerr">
            <div class="slidecontainer">
              <input type="range" min="400" max="1200" value="500" class="slider" id="myRange">
            </div>
          <!-- Полноразмерные изображения с числовым текстом -->
          @for (int i = 0; i < @Model.ComicPages.Count; i++)
            {
              
              <div class="mySlides">
                  <div class="numbertext"><p>@Model.ComicPages.ElementAt(i).PageNumber / @Model.ComicPages.Count</p></div>
                  <img class="img-page" src="@Model.ComicPages.ElementAt(i).PageImage">
              </div>
            }
          </div>

          <!-- Вперед и назад кнопки -->
          <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
          <a class="next" onclick="plusSlides(1)">&#10095;</a>
          
    </body>
</html>
<script>
    var slideIndex = 1;
    showSlides(slideIndex);

    var cont = document.getElementsByClassName("containerr")[0];
    document.addEventListener("keydown", function (event) {
        if (event.keyCode == 39) {
            console.log("ar");
            plusSlides(1);
        }
        else if (event.keyCode == 37) {
            console.log("al");
            plusSlides(-1);
        }
    });
    

    // Вперед/назад элементы управления
    function plusSlides(n) {
      showSlides(slideIndex += n);
    }

    // Элементы управления миниатюрами изображений
    function currentSlide(n) {
      showSlides(slideIndex = n);
    }

    function showSlides(n) {
      var i;
      var slides = document.getElementsByClassName("mySlides");
      if (n > slides.length) {slideIndex = 1}
      if (n < 1) {slideIndex = slides.length}
      for (i = 0; i < slides.length; i++) {
        slides[i].style.display = "none";
      }
      slides[slideIndex-1].style.display = "block";
    }
</script>

<script>
    var slider = document.getElementById("myRange");
    var pages = document.getElementsByClassName("img-page");
    pages.innerHTML = slider.value; // Отображение значения ползунка по умолчанию
    
    slider.addEventListener("mouseup", function() {
        for (i = 0; i < pages.length; i++) {
            pages[i].style.width = this.value + "px";
    }});
</script>
